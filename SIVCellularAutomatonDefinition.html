<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Spread Integer Value cellular automaton definition</title>
	<meta name="description" content="The dinition of the rules of the Spread Integer Value cellular automaton in addition to a 2D example.">
	<meta name="author" content="Jaume Ribas">
	<style>
		table {
			border-collapse: collapse;
			table-layout: fixed;
			text-align: center;
		}
		table, td {
			border: 1px solid black;
		}
		td {
			padding: 5px;
		}
		table.five td {
			width: 20%;
		}
	</style>
</head>

<body>
</body>
	<h1>Spread Integer Value</h1>
	<p>Cellular automaton that spreads an integer value over a grid.</p>
	
	<h2>Definition:</h2>
	<p>
	Every step, the value of each position is divided between itself and its von Neumann neighbors.
	This division is an integer division, and its remainder is left at that given position.
	The values that collide are added up.
	The algorithm effectively ends once all positions have a value too small to divide.</p>
	
	<h2>2D Example:</h2>
	
	<h3>step 0</h3>
	<table class='five'>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>32</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
	</table>
	
	<p>Start off with a grid padded with 0 and a single position with value of 32.</p>
	<h3>step 1</h3>
	<table class='five'>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;6</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;6&nbsp;</td><td>&nbsp;8</td><td>&nbsp;6</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;6</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
	</table>
	
	<p>
	Divide the 32 between his position and his neighboring positions (up, down, left, right and center).<br/>
	&nbsp;32/5 = 6<br/>
	Place the result at each position, and add the remaining 2 to the center value.<br/>
	&nbsp;6+2 = 8</p>
	<br/>
	
	
	<h3>step 2</h3> 
	<br/>
	<table class='five'>
		<tr><td>&nbsp;0&nbsp;</td><td>&nbsp;0</td><td>&nbsp;1</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;2</td><td>&nbsp;3</td><td>&nbsp;2</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;1</td><td>&nbsp;3</td><td>&nbsp;8</td><td>&nbsp;3</td><td>&nbsp;1</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;2</td><td>&nbsp;3</td><td>&nbsp;2</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;1</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
	</table>
	
	<p>
	Repeat the process for every position, adding up the values that collide.<br/>
	The new value at any given position results from adding up the quotient of the division<br/>
	of its four neighbors, the quotient of its own division and the remainder of its own division.<br/>
	For example, for the center position:<br/> 
	&nbsp;4*6/5 + 8/5 + 8%5 = 4 + 1 + 3 = 8<br/><br/>
	At this step all values, but the center 8, are smaller than 5.
	</p>
	<br/>
	
	
	<h3>step 3</h3>
	<br/>
	<table class='five'>
		<tr><td>&nbsp;0&nbsp;</td><td>&nbsp;0</td><td>&nbsp;1</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;2</td><td>&nbsp;4</td><td>&nbsp;2</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;1</td><td>&nbsp;4</td><td>&nbsp;4</td><td>&nbsp;4</td><td>&nbsp;1</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;2</td><td>&nbsp;4</td><td>&nbsp;2</td><td>&nbsp;0</td></tr>
		<tr><td>&nbsp;0</td><td>&nbsp;0</td><td>&nbsp;1</td><td>&nbsp;0</td><td>&nbsp;0</td></tr>
	</table>
	
	<p>
	Finally, divide the center 8. 
	Add the resulting 1 to its neighbors and leave the remaining 3 plus a 1 at the center.<br/>
	Since all positions now have a value smaller than 5, we consider this the last step.
	</p>
</html>